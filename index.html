<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123153435-3"></script>
    <script>
      //Google Analytics
      window.dataLayer = window.dataLayer || [];

      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());

      gtag('config', 'UA-123153435-3');

      //Microsoft Clarify
      (function (c, l, a, r, i, t, y) {
        c[a] =
          c[a] ||
          function () {
            (c[a].q = c[a].q || []).push(arguments);
          };
        t = l.createElement(r);
        t.async = 1;
        t.src = 'https://www.clarity.ms/tag/' + i;
        y = l.getElementsByTagName(r)[0];
        y.parentNode.insertBefore(t, y);
      })(window, document, 'clarity', 'script', '5klkfh4iyr');
    </script>
    <title>When is the next SpaceX launch</title>
    <meta name="description" content="View the latest details and launch time for the upcoming SpaceX rocket launch to space!" />
    <meta name="keywords" content="SpaceX, Launch, spacex launch, Rocket, Falcon 9, Starship, BFR, Falcom Heavy, SuperHeavy, Dragon, Dragon Crew, IIS, Nasa, LEO, Moon, Mars," />
    <meta name="author" content="Award Digital - Warwick Ward" />
    <meta property="og:image" content="https://whenisthenextspacexlaunch.com/facebook-share.png" />
    <meta property="og:url" content="https://whenisthenextspacexlaunch.com" />
    <meta
      property="og:description"
      content="If you want to know when is the next SpaceX launch of a rocket into space this is the site.
    Next launch detailed along with the target dates for all upcoming launches"
    />
    <meta property="og:title" content="When is the next SpaceX Launch" />
    <meta property="og:type" content="website" />
    <meta name="twitter:title" content="When is the next SpaceX Launch" />
    <meta name="robots" content="index,follow" />
    <meta name="googlebot" content="index,follow" />
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png" />
    <link rel="apple-touch-startup-image" href="apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="android-chrome-192x192.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png" />
    <link rel="manifest" href="manifest.json" />
    <link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5" />
    <link rel="shortcut icon" href="favicon.ico" />
    <meta name="apple-mobile-web-app-title" content="X Launch" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="application-name" content="when is the next spacex launch" />
    <meta name="msapplication-TileColor" content="#000000" />
    <meta name="msapplication-TileImage" content="mstile-144x144.png" />
    <meta name="msapplication-config" content="browserconfig.xml" />
    <meta name="theme-color" content="#000000" />
    <link rel="stylesheet" href="css/style.css" />
  </head>

  <body>
    <noscript>THIS PAGE REQUIRES SCRIPTING ENABLED - DON'T WORRY NOTHING SUSS GOING ON :)</noscript>
    <header>
      <h1>When is the next SpaceX launch</h1>
    </header>
    <section class="showcase">
      <div class="image-container">
        <div class="image"></div>
      </div>
      <div class="launch-container">
        <div class="launch-top">
          <div class="launch-stats">
            <div class="launch-countdown">
              <div class="countdown-top">
                <div class="countdown-tminus">&nbsp;</div>
                <div class="countdown-days"><span class="days"></span></div>
                <div class="countdown-hours"><span class="hours"></span></div>
                <div class="countdown-minutes"></div>
                <div class="countdown-seconds"></div>
              </div>
              <div class="countdown-bottom">
                <div></div>
                <div>DAYS</div>
                <div>HOURS</div>
                <div>MINS</div>
                <div>SECS</div>
              </div>
            </div>
            <div class="launch-info"></div>
          </div>
          <div class="launch-image"></div>
        </div>
        <div class="launch-details"></div>
      </div>
      <div class="down-arrow"><i class="fas fa-chevron-down white"></i></div>
    </section>

    <section class="upcoming">
      <table class="launches-list">
        <thead>
          <tr>
            <th id="patchheader">Patch</th>
            <th>Mission</th>
            <th class="mobile-hide">Rocket</th>
            <th class="mobile-hide">Payload</th>
            <th class="mobile-hide">Orbit</th>
            <th class="mobile-hide">Customer</th>
            <th class="mobile-hide">Launch Site</th>
            <th class="mobile-hide">Launch (NET)</th>
          </tr>
        </thead>
        <tbody id="launch-list"></tbody>
      </table>
    </section>

    <section class="about">
      <a href="https://github.com/warwickofthegh/whenisthenextspacexlaunch.com" target="_blank"><span id="logo-award">AWARD</span><span id="logo-digital">DIGITAL</span></a>

      <input type="checkbox" class="theme-checkbox" id="theme" />
      <label for="theme" class="theme-label">
        <i class="fas fa-moon"></i>
        <i class="fas fa-sun"></i>
        <div class="theme-ball"></div>
      </label>
    </section>

    <div id="notification">App update lauching in, 3-2-1...</div>

    <script src="js/lib/moment.min.js"></script>
    <script src="js/lib/fa-all.js"></script>
    <script src="js/lib/indexeddb.shim.min.js"></script>
    <script src="js/lib/dexie.min.js"></script>

    <script src="js/storage.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/http.js"></script>
    <script src="js/app.js"></script>

    <!-- PWA Setup with service worker -->
    <script>
      let newWorker;
      let refreshing;

      navigator.serviceWorker.addEventListener('controllerchange', function () {
        if (refreshing) return;
        window.location.reload();
        refreshing = true;
      });

      // The click event on the notification
      // document.getElementById('reload').addEventListener('click', function () {
      //   console.log('hi');
      //   newWorker.postMessage({ action: 'skipWaiting' });
      // });

      if ('serviceWorker' in navigator) {
        window.addEventListener('load', function () {
          //register the service worker
          navigator.serviceWorker
            .register('service-worker.js')
            .then(
              function (registration) {
                registration.addEventListener('updatefound', () => {
                  console.log('updatefound');
                  newWorker = registration.installing;
                  newWorker.addEventListener('statechange', () => {
                    console.log('statechange');
                    // has service worker state changes?
                    switch (newWorker.state) {
                      case 'installed':
                        //ther is a new service worker avialble, show the notification
                        if (navigator.serviceWorker.controller) {
                          let notification = document.getElementById('notification');
                          notification.className = 'show';
                          // call refresh process after 2 seconds
                          setTimeout(() => {
                            newWorker.postMessage({ action: 'skipWaiting' });
                          }, 4000);
                        }
                        break;
                    }
                  });
                });

                // Registration was successful
                //console.log('ServiceWorker registration successful with scope: ', registration.scope);
              },
              function (err) {
                // registration failed :(
                console.log('ServiceWorker registration failed: ', err);
              }
            )
            .catch(function (err) {
              console.log(err);
            });
        });
      } else {
        console.log('service worker is not supported');
      }
    </script>
  </body>
</html>
